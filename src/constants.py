"""ะะพะฝััะฐะฝัั ะฟัะพะตะบัะฐ โ fallback-ัะตะบััั, ัะผะพะดะทะธ-ัะธััะตะผะฐ ะฑัะตะฝะดะฐ."""

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#  ะญะะะะะ-ะกะะกะขะะะ ะะะะะะ SOLIS Partners
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#
# ะกััะพะณะธะน ะฒะธะทัะฐะปัะฝัะน ะบะพะด: ะบะฐะถะดัะน ัะผะพะดะทะธ โ ะผะฐัะบะตั ัะธะฟะฐ ะบะพะฝัะตะฝัะฐ.
# ะัะฟะพะปัะทัะตััั AI ะธ ัะตะฝะดะปะตัะฐะผะธ ะดะปั ะตะดะธะฝะพะพะฑัะฐะทะฝะพะณะพ ะพัะพัะผะปะตะฝะธั.

EMOJI = {
    # ะขะตะผะฐัะธัะตัะบะธะต ะผะฐัะบะตัั
    "law": "โ๏ธ",           # ะฟัะฐะฒะพ, ะทะฐะบะพะฝั, ัะตะณัะปะธัะพะฒะฐะฝะธะต
    "startup": "๐",       # ััะฐััะฐะฟั, IT-ะฑะธะทะฝะตั
    "docs": "๐",          # ะดะพะบัะผะตะฝัั, ะฟัะพัะตะดััั
    "insight": "๐ก",       # ะธะฝัะฐะนะด, ัะพะฒะตั, ะปะฐะนััะฐะบ
    "money": "๐ฐ",         # ัะธะฝะฐะฝัั, ะธะฝะฒะตััะธัะธะธ, M&A
    "warning": "โ๏ธ",       # ัะธัะบะธ, ะฟัะตะดัะฟัะตะถะดะตะฝะธั
    "check": "โ",         # ัะตะบะพะผะตะฝะดะฐัะธะธ, ััะพ ะดะตะปะฐัั
    "fire": "๐ฅ",          # ะณะพัััะฐั ะฝะพะฒะพััั, ััะพัะฝะพ
    "pin": "๐",           # ัััั, ะบะปััะตะฒะพะต
    "chart": "๐",         # ะฐะฝะฐะปะธัะธะบะฐ, ััะฐัะธััะธะบะฐ
    "guide": "๐",         # ะณะฐะนะดั, ะพะฑััะตะฝะธะต
    "lock": "๐",          # ะฑะตะทะพะฟะฐัะฝะพััั, ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััั
    "globe": "๐",         # ะะคะฆะ, ะผะตะถะดัะฝะฐัะพะดะฝะพะต ะฟัะฐะฒะพ
    "brain": "๐ง",         # AI, ัััะฐัะตะณะธั

    # ะะตะนััะฒะธั
    "new_lead": "๐",
    "consult": "๐ค",
    "publish": "๐",
    "channel": "๐ข",
    "calendar": "๐",
    "settings": "โ๏ธ",
    "back": "โฌ๏ธ",
    "home": "๐",
    "search": "๐",
    "link": "๐",

    # ะกัะฐัััั
    "ok": "โ",
    "error": "โ",
    "wait": "โณ",
    "alert": "๐จ",
}

# ะะฐะทะดะตะปะธัะตะปะธ ะดะปั ััััะบัััะธัะพะฒะฐะฝะฝัั ัะพะพะฑัะตะฝะธะน
DIVIDER = "โโโโโโโโโโโโโโโ"
DIVIDER_THIN = "โ โ โ โ โ โ โ โ"
DIVIDER_DOTS = "ยท ยท ยท ยท ยท ยท ยท ยท ยท"


# โโ Fallback-ัะตะบััั (HTML-ัะพัะผะฐั) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะัะฟะพะปัะทััััั ะตัะปะธ Google Sheets ะฝะตะดะพัััะฟะตะฝ ะธะปะธ ะบะปัั ะฝะต ะฝะฐะนะดะตะฝ.
# ะะปััะธ ัะพะพัะฒะตัััะฒััั ััะพะปะฑัั ยซkeyยป ะฒ ะปะธััะต ยซะขะตะบััั ะฑะพัะฐยป.

FALLBACK_TEXTS: dict[str, str] = {
    "welcome_not_subscribed": (
        "ะะพะฑััะน ะดะตะฝั!\n\n"
        "ะะฐ ัะฒัะทะธ ะฑะพั ััะธะดะธัะตัะบะพะน ัะธัะผั <b>SOLIS Partners</b>.\n\n"
        "ะั ัะฟะตัะธะฐะปะธะทะธััะตะผัั ะฝะฐ ัะพะฟัะพะฒะพะถะดะตะฝะธะธ ะฑะธะทะฝะตัะฐ ะฒ ะะฐะทะฐัััะฐะฝะต: "
        "ะฝะฐะปะพะณะพะฒะฐั ะพะฟัะธะผะธะทะฐัะธั, IT-ะฟัะฐะฒะพ, ะธะฝะฒะตััะธัะธะธ, M&A, ESOP ะธ ะะคะฆะ.\n\n"
        "๐น ะงัะพะฑั ะฟะพะปััะธัั ะดะพัััะฟ ะบ ะฝะฐัะธะผ ะฑะตัะฟะปะฐัะฝัะผ PDF-ะณะฐะนะดะฐะผ, "
        "ะฟะพะดะฟะธัะธัะตัั ะฝะฐ ะฝะฐั Telegram-ะบะฐะฝะฐะป โ ัะฐะผ ะผั ะฟัะฑะปะธะบัะตะผ "
        "ัะฐะทะฑะพัั ะบะตะนัะพะฒ, ะธะทะผะตะฝะตะฝะธั ะฒ ะทะฐะบะพะฝะฐั ะธ ะฐะฝะพะฝัั ะฝะพะฒัั ะผะฐัะตัะธะฐะปะพะฒ."
    ),
    "welcome_subscribed": (
        "๐น <b>ะะพัััะฟ ะพัะบััั!</b>\n\n"
        "ะัะฑะตัะธัะต ัะตะผั, ะบะพัะพัะฐั ะฐะบััะฐะปัะฝะฐ ะดะปั ะฒะฐัะตะณะพ ะฑะธะทะฝะตัะฐ, "
        "ะธ ั ะฟัะธัะปั PDF ั ะฟะพัะฐะณะพะฒัะผะธ ะธะฝััััะบัะธัะผะธ ะธ ัะตะบ-ะปะธััะฐะผะธ ๐"
    ),
    "subscription_success": (
        "๐น <b>ะัะปะธัะฝะพ, ะฟะพะดะฟะธัะบะฐ ะฟะพะดัะฒะตัะถะดะตะฝะฐ!</b>\n\n"
        "ะขะตะฟะตัั ะฒัะฑะตัะธัะต ัะตะผั, ะธ ั ะฟัะธัะปั ะฒะฐะผ ะณะฐะนะด "
        "ั ะฟะพัะฐะณะพะฒัะผะธ ะธะฝััััะบัะธัะผะธ ๐"
    ),
    "subscription_fail": (
        "ะะพะดะฟะธัะบะฐ ะฟะพะบะฐ ะฝะต ะฝะฐะนะดะตะฝะฐ. ะะฐะถะผะธัะต ยซะะพะดะฟะธัะฐัััั ะฝะฐ ะบะฐะฝะฐะปยป "
        "ะฒััะต, ะฟะพะดะฟะธัะธัะตัั ะธ ะฒะตัะฝะธัะตัั ััะดะฐ โ ั ะฟัะพะฒะตัั ะตัั ัะฐะท."
    ),
    "guide_delivered": (
        "๐น ะะฐั ะณะฐะนะด ัะถะต ะทะดะตัั! ะกะพััะฐะฝะธัะต ะตะณะพ โ "
        "ะฟัะธะณะพะดะธััั ะฟัะธ ะฟัะธะฝััะธะธ ัะตัะตะฝะธะน."
    ),
    "ask_email": (
        "๐จ <b>ะัะดะฐ ะฟัะธัะปะฐัั ะณะฐะนะด?</b>\n\n"
        "ะฃะบะฐะถะธัะต email โ ะฝะฐ ะฝะตะณะพ ะฟัะธะดัั:\n"
        "  ๐ ัััะปะบะฐ ะฝะฐ PDF (ััะพะฑั ะฝะต ะฟะพัะตัััั)\n"
        "  ๐ฌ ัะฒะตะดะพะผะปะตะฝะธั ะพ ะฝะพะฒัั ะผะฐัะตัะธะฐะปะฐั ะฟะพ ะฒะฐัะตะน ัะตะผะต\n\n"
        "<i>ะกะฟะฐะผะฐ ะฝะต ะฑัะดะตั โ ัะพะปัะบะพ ะฟะพะปะตะทะฝัะต ะผะฐัะตัะธะฐะปั.\n"
        "ะัะฟะธัะฐัััั โ 1 ะบะปะธะบ ะฒ ะปัะฑะพะผ ะฟะธััะผะต.</i>\n\n"
        "๐ก ะะฐะฟัะธะผะตั: <code>name@company.kz</code>"
    ),
    "invalid_email": (
        "ะะพะถะฐะปัะนััะฐ, ะฒะฒะตะดะธัะต ะบะพััะตะบัะฝัะน email.\n"
        "ะัะธะผะตั: <code>name@company.kz</code>"
    ),
    "email_saved": (
        "โ <b>ะัะปะธัะฝะพ, ะทะฐะฟะพะผะฝะธะปะธ!</b>\n\n"
        "ะะฐะบ ะบ ะฒะฐะผ ะพะฑัะฐัะฐัััั? ะฃะบะฐะถะธัะต ะธะผั โ "
        "ัะฐะบ ั ัะผะพะณั ะฟะตััะพะฝะฐะปะธะทะธัะพะฒะฐัั ัะตะบะพะผะตะฝะดะฐัะธะธ "
        "ะธ ะพะฑัะฐัะฐัััั ะบ ะฒะฐะผ ะปะธัะฝะพ, ะฐ ะฝะต ยซะฃะฒะฐะถะฐะตะผัะน ะฟะพะปัะทะพะฒะฐัะตะปัยป ๐\n\n"
        "ะะฐะฟัะธะผะตั: <b>ะะนะดะฐั</b> ะธะปะธ <b>ะะนะดะฐั ะััะฐัะพะฒะธั</b>"
    ),
    "invalid_name": (
        "ะะผั ะดะพะปะถะฝะพ ัะพะดะตัะถะฐัั ัะพัั ะฑั ะพะดะฝั ะฑัะบะฒั. "
        "ะฃะบะฐะถะธัะต, ะฟะพะถะฐะปัะนััะฐ, ะบะฐะบ ะบ ะฒะฐะผ ะพะฑัะฐัะฐัััั "
        '(ะฝะฐะฟัะธะผะตั, ยซะะนะดะฐั ะััะฐัะพะฒะธัยป).'
    ),
    "consent_text": (
        "๐น <b>ะะพัะปะตะดะฝะธะน ัะฐะณ</b>\n\n"
        "ะะฐะถะธะผะฐั ยซะกะพะณะปะฐัะตะฝยป, ะฒั ัะฐะทัะตัะฐะตัะต:\n"
        "  โ ะพัะฟัะฐะฒะธัั ะฒะฐะผ PDF-ะณะฐะนะด ะฝะฐ email\n"
        "  โ ะฟัะธััะปะฐัั ะฟะพะปะตะทะฝัะต ะผะฐัะตัะธะฐะปั: ะณะฐะนะดั, "
        "ัะฐะทะฑะพัั ะบะตะนัะพะฒ, ะธะทะผะตะฝะตะฝะธั ะฒ ะทะฐะบะพะฝะฐั\n\n"
        "ะั <b>ะฝะต ะฟะตัะตะดะฐัะผ</b> ะฒะฐัะธ ะดะฐะฝะฝัะต ััะตััะธะผ ะปะธัะฐะผ.\n"
        "ะัะฟะธัะฐัััั โ 1 ะบะปะธะบ ะฒ ะปัะฑะพะผ ะฟะธััะผะต.\n\n"
        '๐ <a href="{privacy_url}">ะะพะปะธัะธะบะฐ ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััะธ</a>'
    ),
    "consent_given": (
        "<b>{name}</b>, ะฑะปะฐะณะพะดะฐัะธะผ ะฒะฐั!\n\n"
        "ะขะตะฟะตัั ะฒั ะฑัะดะตัะต ะฟะพะปััะฐัั:\n"
        "โ ะะพะฒัะต ะณะฐะนะดั ะธ ััะฐััะธ\n"
        "โ ะะฐะทะฑะพัั ััะธะดะธัะตัะบะธั ะบะตะนัะพะฒ\n"
        "โ ะัะธะณะปะฐัะตะฝะธั ะฝะฐ ะฒะตะฑะธะฝะฐัั\n\n"
        "ะะพะปะตะทะฝัะต ะพะฑะฝะพะฒะปะตะฝะธั ัะถะต ะปะตััั ะฝะฐ <b>{email}</b> โบ๏ธ"
    ),
    "consent_declined": (
        "ะะพะฝะธะผะฐะตะผ. ะัะปะธ ะฟะตัะตะดัะผะฐะตัะต โ ะฟัะพััะพ ะฝะฐะถะผะธัะต /start.\n"
        "ะะฐั ะณะฐะนะด ัะถะต ั ะฒะฐั, ะฟะพะปัะทัะนัะตัั ะฝะฐ ะทะดะพัะพะฒัะต โบ๏ธ"
    ),
    "disclaimer": (
        f"\n\n{DIVIDER}\n"
        "<i>Disclaimer: ะะฐะฝะฝะฐั ะธะฝัะพัะผะฐัะธั ะฝะพัะธั ะพะทะฝะฐะบะพะผะธัะตะปัะฝัะน ัะฐัะฐะบัะตั "
        "ะธ ะฝะต ัะฒะปัะตััั ััะธะดะธัะตัะบะพะน ะบะพะฝััะปััะฐัะธะตะน. ะะปั ัะตัะตะฝะธั ะบะพะฝะบัะตัะฝัั "
        "ะฒะพะฟัะพัะพะฒ ะพะฑัะฐัะธัะตัั ะบ ัะฟะตัะธะฐะปะธััั.</i>"
    ),
    "returning_user_thanks": (
        "<b>{name}</b>, ัะฐะดั ัะฝะพะฒะฐ ะฒะฐั ะฒะธะดะตัั!\n\n"
        "ะะฐะนะด ัะถะต ั ะฒะฐั. ะกะพััะฐะฝะธัะต ะตะณะพ โ ะฟัะธะณะพะดะธััั โบ๏ธ"
    ),
    "guide_not_found": "ะะฐะนะด ะฝะต ะฝะฐะนะดะตะฝ",
    "guide_pdf_unavailable": (
        "๐น <b>{title}</b>\n\n"
        "{description}\n\n"
        "<i>(PDF-ะฒะตััะธั ะณะฐะนะดะฐ ะฑัะดะตั ะดะพัััะฟะฝะฐ ะฒ ะฑะปะธะถะฐะนัะตะต ะฒัะตะผั)</i>"
    ),
    "cache_cleared": "๐น ะะตั ัะฑัะพัะตะฝ. ะะฐะฝะฝัะต ะพะฑะฝะพะฒัััั ะฟัะธ ัะปะตะดัััะตะผ ะทะฐะฟัะพัะต.",
}


def get_text(texts: dict[str, str], key: str, **kwargs: str) -> str:
    """ะะพะปััะฐะตั ัะตะบัั ะธะท Sheets-ัะปะพะฒะฐัั ั fallback ะฝะฐ ะปะพะบะฐะปัะฝัะต ะบะพะฝััะฐะฝัั.

    Args:
        texts: ะกะปะพะฒะฐัั ัะตะบััะพะฒ ะธะท Google Sheets (ะธะปะธ ะฟัััะพะน ะฟัะธ ะพัะธะฑะบะต).
        key: ะะปัั ัะตะบััะฐ.
        **kwargs: ะะพะดััะฐะฝะพะฒะบะธ ะดะปั ``.format()`` (ะฝะฐะฟัะธะผะตั ``name``, ``email``).

    Returns:
        ะััะพัะผะฐัะธัะพะฒะฐะฝะฝัะน ัะตะบัั.
    """
    raw = texts.get(key) or FALLBACK_TEXTS.get(key, "")
    if kwargs:
        try:
            return raw.format(**kwargs)
        except KeyError:
            return raw
    return raw
